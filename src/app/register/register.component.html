<ngx-loading-bar></ngx-loading-bar>
<app-loader [display]="showLoader"></app-loader>
<app-success [display]="showSuccess" [text]="'Account successfully created'"></app-success>
<div class="tracking-wider md:flex md:justify-start">
     <img src="../../assets/images/register.png" alt="smiling people loging in" class="w-full">
     <div class="grid justify-center px-2 md:bg-white md:gap-2 md:items-center md:h-screen md:block md:w-3/6">
          <h2 class="font-bold text-center mt-4 text-lg md:text md:mt-32 md:text-xl">Register</h2>
          <form [formGroup]="form" (ngSubmit)="onSubmit()" class="w-full md:w-1/3 mt-1 mx-auto">
               <p class="text-red-600 mt-1 text-sm text-sm text-red-400">{{message}}</p>
               <div class="">
                    <label for="name" class="block text-sm mb-1 font-bold md:text-sm">Full Name</label>
                    <p class="text-red-600 mt-1 text-sm" *ngIf="error != null">{{error.name}}</p>
                    <div *ngIf="name!.invalid && (name!.dirty || name!.touched)" class="text-red-600 mt-1 text-sm">

                      <p *ngIf="name!.errors?.['required']">
                        Kindly input your Full name.
                      </p>
                      <p *ngIf="name!.errors?.['minLength']">
                        Your full name should not be less than 5 characters
                      </p>
                    </div>
                    <input type="text" formControlName="name" id="name" name="name" class="w-full border rounded-lg border-gray-500 mt-1 rounded-sm text-md text-black py-1 px-2 focus:shadow-xl focus:border-0 focus:outline-none">
               </div>

               <div class="mt-3 md:mt-6">
                    <label for="email" class="block text-sm mb-1 font-bold md:text-sm">Email</label>
                    <p class="text-red-600 mt-1 text-sm" *ngIf="error != null">{{error.email}}</p>
                    <div *ngIf="email!.invalid && (email!.dirty || email!.touched)"
                        class="text-red-600 mt-1 text-sm">

                      <p *ngIf="email!.errors?.['required']">
                        Kindly input your email address.
                      </p>
                      <p *ngIf="email!.errors?.['email']">
                        Input a valid email
                      </p>
                    </div>
                    <input type="email" formControlName="email" id="email" name="email" class="w-full border rounded-lg border-gray-500 mt-1 rounded-sm text-md text-black py-1 px-2 focus:shadow-xl focus:border-0 focus:outline-none">
               </div>

               <div class="mt-3 md:mt-6">
                    <label for="nickname" class="block text-sm mb-1 font-bold md:text-sm">Choose Nickname</label>
                    <p class="text-red-600 mt-1 text-sm" *ngIf="error != null">{{error.nickname}}</p>
                    <div *ngIf="nickname!.invalid && (nickname!.dirty || nickname!.touched)"
                        class="text-red-600 mt-1 text-sm">

                      <p *ngIf="nickname!.errors?.['required']">
                        Kindly input your desired | popular nickname.
                      </p>
                      <p *ngIf="nickname!.errors?.['minLength']">
                        nickname too short(cannot be less than 5 characters)
                      </p>
                    </div>
                    <input type="text" formControlName="nickname" id="nickname" name="nickname" class="w-full border rounded-lg border-gray-500 mt-1 rounded-sm text-md text-black py-1 px-2 focus:shadow-xl focus:border-0 focus:outline-none">
               </div>

               <div class="mt-3 md:mt-6">
                    <label for="institution" class="block text-sm mb-1 font-bold md:text-sm">Your institution</label>
                    <p class="text-red-600 mt-1 text-sm" *ngIf="error != null">{{error.institution}}</p>
                    <div *ngIf="institution!.invalid && (institution!.dirty || institution!.touched)"
                        class="text-red-600 mt-1 text-sm">

                      <p *ngIf="institution!.errors?.['required']">
                        Kindly input Tertiary Institution.
                      </p>
                      <p *ngIf="institution!.errors?.['minLength']">
                        Institution name too short(cannot be less than 3 characters)
                      </p>
                    </div>
                    <input type="text" formControlName="institution" id="institution" name="institution" class="w-full border rounded-lg border-gray-500 mt-1 rounded-sm text-md text-black py-1 px-2 focus:shadow-xl focus:border-0 focus:outline-none">
               </div>

               <div class="mt-3 md:mt-6">
                    <label for="password" class="block text-sm mb-1 font-bold md:text-sm">Password</label>
                    <p class="text-red-600 mt-1 text-sm" *ngIf="error != null">{{error.password}}</p>
                    <div *ngIf="password!.invalid && (password!.dirty || password!.touched)"
                        class="text-red-600 mt-1 text-sm">

                      <p *ngIf="password!.errors?.['required']">
                        Kindly input your desired password.
                      </p>
                      <p *ngIf="password!.errors?.['minLength']">
                        password name too short(cannot be less than 5 characters)
                      </p>
                    </div>
                    <input type="password" formControlName="password" id="password" name="password" class="w-full border rounded-lg border-gray-500 mt-1 rounded-sm text-md text-black py-1 px-2 focus:shadow-xl focus:border-0 focus:outline-none">
               </div>

               <div class="mt-6 md:mt-12">
                    <button type="submit" [disabled]="!form.valid" class="px-4 py-2 text-center rounded-lg disabled:bg-gray-300 bg-blue-500 w-full shadow-md hover:-translate-x-1 hover:shadow-lg">Register</button>
               </div>
          </form>
          <p class="mt-4 text-sm md:text-center md:text-md">Have an account? <a routerLink="/login" class="text-blue-500 font-bold">Login here</a></p>
     </div>

</div>
